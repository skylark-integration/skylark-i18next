/**
 * skylark-i18next - A version of i18next.js that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-i18next/
 * @license MIT
 */
define(["./EventEmitter","./utils"],function(t,e){"use strict";return class extends t{constructor(s,i={ns:["translation"],defaultNS:"translation"}){super(),e.isIE10&&t.call(this),this.data=s||{},this.options=i,void 0===this.options.keySeparator&&(this.options.keySeparator=".")}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,s,i,a={}){const o=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator;let n=[t,s];return i&&"string"!=typeof i&&(n=n.concat(i)),i&&"string"==typeof i&&(n=n.concat(o?i.split(o):i)),t.indexOf(".")>-1&&(n=t.split(".")),e.getPath(this.data,n)}addResource(t,s,i,a,o={silent:!1}){let n=this.options.keySeparator;void 0===n&&(n=".");let r=[t,s];i&&(r=r.concat(n?i.split(n):i)),t.indexOf(".")>-1&&(a=s,s=(r=t.split("."))[1]),this.addNamespaces(s),e.setPath(this.data,r,a),o.silent||this.emit("added",t,s,i,a)}addResources(t,e,s,i={silent:!1}){for(const i in s)"string"!=typeof s[i]&&"[object Array]"!==Object.prototype.toString.apply(s[i])||this.addResource(t,e,i,s[i],{silent:!0});i.silent||this.emit("added",t,e,s)}addResourceBundle(t,s,i,a,o,n={silent:!1}){let r=[t,s];t.indexOf(".")>-1&&(a=i,i=s,s=(r=t.split("."))[1]),this.addNamespaces(s);let d=e.getPath(this.data,r)||{};a?e.deepExtend(d,i,o):d={...d,...i},e.setPath(this.data,r,d),n.silent||this.emit("added",t,s,i)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return void 0!==this.getResource(t,e)}getResourceBundle(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...{},...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}toJSON(){return this.data}}});
//# sourceMappingURL=sourcemaps/ResourceStore.js.map
